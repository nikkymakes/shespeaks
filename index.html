<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>She Speaks: The Many Faces of Her‚Ñ¢ - Complete Edition</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="She Speaks: The Many Faces of Her‚Ñ¢">
    <meta property="og:description" content="Biblical women reimagined through devotion, identity, narrative, and satire">
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary_large_image">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Georgia', serif;
            background: linear-gradient(135deg, #f5f0e8 0%, #e8dfd0 100%);
            min-height: 100vh;
            color: #3d2817;
        }

        .app-container {
            max-width: 900px;
            margin: 0 auto;
            padding: 2rem;
        }

        .header {
            text-align: center;
            margin-bottom: 3rem;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 16px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            color: #8b4513;
            font-weight: 400;
            letter-spacing: 1px;
        }

        .header p {
            font-size: 1.1rem;
            color: #5c4033;
            font-style: italic;
        }

        .badge {
            display: inline-block;
            background: #8b4513;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.85rem;
            margin-top: 0.5rem;
        }

        .search-bar {
            margin-bottom: 2rem;
        }

        .search-input {
            width: 100%;
            padding: 1rem;
            border: 2px solid #c4a57b;
            border-radius: 8px;
            font-family: 'Georgia', serif;
            font-size: 1rem;
        }

        .emotional-pathways {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.08);
            margin-bottom: 2rem;
        }

        .emotional-pathways h3 {
            color: #8b4513;
            margin-bottom: 1rem;
            font-size: 1.3rem;
        }

        .pathway-btn {
            display: block;
            width: 100%;
            padding: 1rem;
            margin-bottom: 0.75rem;
            background: linear-gradient(135deg, #f8f5f0 0%, #e8dfd0 100%);
            border: 2px solid #c4a57b;
            border-radius: 8px;
            cursor: pointer;
            text-align: left;
            font-family: 'Georgia', serif;
            font-size: 0.95rem;
            transition: all 0.3s ease;
        }

        .pathway-btn:hover {
            background: linear-gradient(135deg, #e8dfd0 0%, #d4c5b0 100%);
            transform: translateY(-2px);
        }

        .women-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 3rem;
        }

        .woman-card {
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            cursor: pointer;
            transition: all 0.3s ease;
            border-left: 4px solid #8b4513;
        }

        .woman-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
        }

        .woman-card h3 {
            color: #8b4513;
            margin-bottom: 0.5rem;
            font-size: 1.2rem;
        }

        .woman-card .testament {
            font-size: 0.75rem;
            color: #8b4513;
            background: rgba(139, 69, 19, 0.1);
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            display: inline-block;
            margin-bottom: 0.5rem;
        }

        .woman-card p {
            color: #5c4033;
            font-size: 0.9rem;
            line-height: 1.6;
        }

        .interpretation-view {
            background: white;
            padding: 3rem;
            border-radius: 12px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.08);
            margin-bottom: 2rem;
        }

        .interpretation-header {
            text-align: center;
            padding-bottom: 2rem;
            border-bottom: 2px solid #e0d5c7;
            margin-bottom: 2rem;
        }

        .interpretation-header h2 {
            color: #8b4513;
            font-size: 2rem;
            margin-bottom: 1rem;
        }

        .interpretation-content {
            line-height: 1.9;
            font-size: 1.05rem;
            color: #4a3728;
            white-space: pre-wrap;
            margin-bottom: 2rem;
        }

        .journal-section {
            background: linear-gradient(135deg, #f8f5f0 0%, #e8dfd0 100%);
            padding: 2rem;
            border-radius: 12px;
            margin-top: 2rem;
        }

        .journal-section h3 {
            color: #8b4513;
            margin-bottom: 1rem;
            font-size: 1.3rem;
        }

        .journal-textarea {
            width: 100%;
            min-height: 150px;
            padding: 1rem;
            border: 2px solid #c4a57b;
            border-radius: 8px;
            font-family: 'Georgia', serif;
            font-size: 1rem;
            line-height: 1.8;
            resize: vertical;
        }

        .action-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 2rem;
        }

        .btn {
            padding: 1rem;
            background: linear-gradient(135deg, #8b4513 0%, #6b3410 100%);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s ease;
            font-family: 'Georgia', serif;
            text-align: center;
        }

        .btn:hover {
            background: linear-gradient(135deg, #6b3410 0%, #4b2408 100%);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .btn-secondary {
            background: white;
            color: #8b4513;
            border: 2px solid #8b4513;
        }

        .btn-secondary:hover {
            background: #8b4513;
            color: white;
        }

        .back-btn {
            display: inline-block;
            margin-bottom: 2rem;
            padding: 0.75rem 1.5rem;
            background: linear-gradient(135deg, #e8dfd0 0%, #c4a57b 100%);
            color: #3d2817;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            text-decoration: none;
            transition: all 0.3s ease;
            font-family: 'Georgia', serif;
        }

        .back-btn:hover {
            background: linear-gradient(135deg, #c4a57b 0%, #a48860 100%);
            transform: translateY(-2px);
        }

        .footer {
            text-align: center;
            padding: 2rem;
            margin-top: 3rem;
            font-size: 0.9rem;
            color: #5c4033;
            font-style: italic;
            background: rgba(255, 255, 255, 0.5);
            border-radius: 8px;
        }

        .share-options {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
            flex-wrap: wrap;
            justify-content: center;
        }

        .share-btn {
            padding: 0.75rem 1.5rem;
            background: white;
            color: #8b4513;
            border: 2px solid #8b4513;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.3s ease;
            font-family: 'Georgia', serif;
        }

        .share-btn:hover {
            background: #8b4513;
            color: white;
        }

        .loading {
            text-align: center;
            padding: 2rem;
            color: #8b4513;
            font-style: italic;
        }

        @media (max-width: 768px) {
            .app-container {
                padding: 1rem;
            }

            .header h1 {
                font-size: 1.8rem;
            }

            .women-grid {
                grid-template-columns: 1fr;
            }

            .interpretation-view {
                padding: 1.5rem;
            }

            .action-buttons {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // COMPLETE BIBLICAL WOMEN DATABASE
        // All women from Old Testament, New Testament, and Apocrypha
        const BIBLICAL_WOMEN = [
            // PATRIARCHAL ERA
            { name: "Eve", testament: "OT", role: "First Woman", themes: ["creation", "choice", "consequence"], scripture: "Genesis 2-3" },
            { name: "Sarah", testament: "OT", role: "Matriarch", themes: ["waiting", "promise", "laughter"], scripture: "Genesis 11-23" },
            { name: "Hagar", testament: "OT", role: "The Seen One", themes: ["visibility", "exile", "survival"], scripture: "Genesis 16, 21" },
            { name: "Rebekah", testament: "OT", role: "Strategist", themes: ["choice", "deception", "prophecy"], scripture: "Genesis 24-27" },
            { name: "Leah", testament: "OT", role: "Unloved Wife", themes: ["worthiness", "competition", "legacy"], scripture: "Genesis 29-35" },
            { name: "Rachel", testament: "OT", role: "Beloved", themes: ["longing", "jealousy", "motherhood"], scripture: "Genesis 29-35" },
            { name: "Tamar (Genesis)", testament: "OT", role: "Justice Seeker", themes: ["injustice", "courage", "vindication"], scripture: "Genesis 38" },
            
            // EXODUS & WILDERNESS
            { name: "Jochebed", testament: "OT", role: "Moses' Mother", themes: ["protection", "faith", "release"], scripture: "Exodus 2, 6" },
            { name: "Miriam", testament: "OT", role: "Prophetess", themes: ["leadership", "worship", "rebellion"], scripture: "Exodus 2, 15; Numbers 12" },
            { name: "Zipporah", testament: "OT", role: "Moses' Wife", themes: ["intervention", "foreignness", "courage"], scripture: "Exodus 2, 4, 18" },
            { name: "Daughters of Zelophehad", testament: "OT", role: "Inheritance Seekers", themes: ["justice", "courage", "legacy"], scripture: "Numbers 27, 36" },
            
            // CONQUEST & JUDGES
            { name: "Rahab", testament: "OT", role: "The Scarlet Thread", themes: ["redemption", "faith", "protection"], scripture: "Joshua 2, 6" },
            { name: "Deborah", testament: "OT", role: "Judge & Warrior", themes: ["leadership", "courage", "prophecy"], scripture: "Judges 4-5" },
            { name: "Jael", testament: "OT", role: "Tent Peg Warrior", themes: ["courage", "violence", "victory"], scripture: "Judges 4-5" },
            { name: "Jephthah's Daughter", testament: "OT", role: "Sacrificed", themes: ["vows", "loss", "mourning"], scripture: "Judges 11" },
            { name: "Delilah", testament: "OT", role: "Betrayer", themes: ["deception", "power", "downfall"], scripture: "Judges 16" },
            { name: "Ruth", testament: "OT", role: "Covenant Keeper", themes: ["loyalty", "belonging", "redemption"], scripture: "Book of Ruth" },
            { name: "Naomi", testament: "OT", role: "Bitter to Blessed", themes: ["loss", "bitterness", "restoration"], scripture: "Book of Ruth" },
            { name: "Orpah", testament: "OT", role: "The One Who Turned Back", themes: ["choice", "safety", "release"], scripture: "Ruth 1" },
            { name: "Hannah", testament: "OT", role: "Prayer Warrior", themes: ["barrenness", "prayer", "fulfillment"], scripture: "1 Samuel 1-2" },
            { name: "Peninnah", testament: "OT", role: "The Taunter", themes: ["cruelty", "rivalry", "blessing"], scripture: "1 Samuel 1" },
            
            // MONARCHY
            { name: "Michal", testament: "OT", role: "David's First Wife", themes: ["love", "politics", "bitterness"], scripture: "1 Samuel 18-19; 2 Samuel 6" },
            { name: "Abigail", testament: "OT", role: "Peacemaker", themes: ["wisdom", "intervention", "diplomacy"], scripture: "1 Samuel 25" },
            { name: "Bathsheba", testament: "OT", role: "Taken & Crowned", themes: ["violation", "power", "survival"], scripture: "2 Samuel 11-12; 1 Kings 1-2" },
            { name: "Tamar (2 Samuel)", testament: "OT", role: "Violated Daughter", themes: ["assault", "justice", "silence"], scripture: "2 Samuel 13" },
            { name: "Woman of Tekoa", testament: "OT", role: "Wise Counselor", themes: ["wisdom", "storytelling", "reconciliation"], scripture: "2 Samuel 14" },
            { name: "Rizpah", testament: "OT", role: "Mourning Mother", themes: ["grief", "vigil", "justice"], scripture: "2 Samuel 21" },
            { name: "Queen of Sheba", testament: "OT", role: "Seeker of Wisdom", themes: ["wisdom", "wealth", "inquiry"], scripture: "1 Kings 10; 2 Chronicles 9" },
            { name: "Jezebel", testament: "OT", role: "Wicked Queen", themes: ["power", "idolatry", "downfall"], scripture: "1 Kings 16-21; 2 Kings 9" },
            { name: "Widow of Zarephath", testament: "OT", role: "Faith in Famine", themes: ["provision", "faith", "resurrection"], scripture: "1 Kings 17" },
            { name: "Athaliah", testament: "OT", role: "Usurper Queen", themes: ["power", "murder", "justice"], scripture: "2 Kings 11; 2 Chronicles 22-23" },
            { name: "Huldah", testament: "OT", role: "Prophetess", themes: ["prophecy", "authority", "judgment"], scripture: "2 Kings 22; 2 Chronicles 34" },
            { name: "Esther", testament: "OT", role: "Hidden Queen", themes: ["courage", "timing", "salvation"], scripture: "Book of Esther" },
            { name: "Vashti", testament: "OT", role: "Defiant Queen", themes: ["refusal", "dignity", "consequence"], scripture: "Esther 1" },
            
            // WISDOM & POETRY
            { name: "Job's Wife", testament: "OT", role: "Suffering Spouse", themes: ["loss", "bitterness", "survival"], scripture: "Job 2, 19" },
            { name: "Woman of Proverbs 31", testament: "OT", role: "Virtuous Woman", themes: ["excellence", "commerce", "wisdom"], scripture: "Proverbs 31" },
            { name: "The Shulammite", testament: "OT", role: "Beloved", themes: ["love", "desire", "beauty"], scripture: "Song of Solomon" },
            
            // PROPHETS
            { name: "Gomer", testament: "OT", role: "Unfaithful Wife", themes: ["adultery", "redemption", "covenant"], scripture: "Hosea 1-3" },
            { name: "Isaiah's Wife", testament: "OT", role: "Prophetess", themes: ["prophecy", "signs", "partnership"], scripture: "Isaiah 8" },
            
            // APOCRYPHA
            { name: "Judith", testament: "Apocrypha", role: "Warrior Widow", themes: ["courage", "seduction", "deliverance"], scripture: "Book of Judith" },
            { name: "Susanna", testament: "Apocrypha", role: "Falsely Accused", themes: ["innocence", "vindication", "wisdom"], scripture: "Susanna (Daniel 13)" },
            { name: "Sarah (Tobit)", testament: "Apocrypha", role: "Tormented Bride", themes: ["suffering", "prayer", "deliverance"], scripture: "Book of Tobit" },
            
            // NEW TESTAMENT
            { name: "Elizabeth", testament: "NT", role: "John's Mother", themes: ["barrenness", "prophecy", "joy"], scripture: "Luke 1" },
            { name: "Mary (Mother of Jesus)", testament: "NT", role: "Theotokos", themes: ["obedience", "pondering", "suffering"], scripture: "Matthew 1-2; Luke 1-2; John 2, 19; Acts 1" },
            { name: "Anna the Prophetess", testament: "NT", role: "Temple Witness", themes: ["widowhood", "prayer", "recognition"], scripture: "Luke 2" },
            { name: "Woman with Issue of Blood", testament: "NT", role: "Healed by Touch", themes: ["faith", "healing", "persistence"], scripture: "Matthew 9; Mark 5; Luke 8" },
            { name: "Jairus' Daughter", testament: "NT", role: "Raised from Death", themes: ["resurrection", "faith", "childhood"], scripture: "Matthew 9; Mark 5; Luke 8" },
            { name: "The Syrophoenician Woman", testament: "NT", role: "Persistent Mother", themes: ["persistence", "faith", "inclusion"], scripture: "Matthew 15; Mark 7" },
            { name: "Woman at the Well", testament: "NT", role: "Truth Teller", themes: ["truth", "evangelism", "thirst"], scripture: "John 4" },
            { name: "Woman Caught in Adultery", testament: "NT", role: "Accused & Freed", themes: ["mercy", "accusation", "freedom"], scripture: "John 8" },
            { name: "Mary Magdalene", testament: "NT", role: "First Witness", themes: ["deliverance", "devotion", "witness"], scripture: "Luke 8; John 19-20" },
            { name: "Martha", testament: "NT", role: "Hospitable Sister", themes: ["service", "distraction", "confession"], scripture: "Luke 10; John 11-12" },
            { name: "Mary of Bethany", testament: "NT", role: "Devoted Learner", themes: ["worship", "devotion", "anointing"], scripture: "Luke 10; John 11-12" },
            { name: "Mary (Mother of James)", testament: "NT", role: "Witness at the Cross", themes: ["witness", "faithfulness", "courage"], scripture: "Matthew 27-28; Mark 15-16; Luke 24" },
            { name: "Salome (James' Mother)", testament: "NT", role: "Ambitious Mother", themes: ["ambition", "witness", "service"], scripture: "Matthew 20, 27; Mark 15-16" },
            { name: "Joanna", testament: "NT", role: "Supporter", themes: ["support", "courage", "witness"], scripture: "Luke 8, 24" },
            { name: "Susanna (NT)", testament: "NT", role: "Supporter", themes: ["support", "service", "community"], scripture: "Luke 8" },
            { name: "Widow with Two Mites", testament: "NT", role: "Generous Giver", themes: ["generosity", "sacrifice", "faith"], scripture: "Mark 12; Luke 21" },
            { name: "Peter's Mother-in-Law", testament: "NT", role: "Healed Servant", themes: ["healing", "service", "response"], scripture: "Matthew 8; Mark 1; Luke 4" },
            { name: "Sapphira", testament: "NT", role: "Deceiver", themes: ["deception", "greed", "judgment"], scripture: "Acts 5" },
            { name: "Tabitha (Dorcas)", testament: "NT", role: "Servant Raised", themes: ["service", "resurrection", "community"], scripture: "Acts 9" },
            { name: "Lydia", testament: "NT", role: "First European Convert", themes: ["hospitality", "business", "faith"], scripture: "Acts 16" },
            { name: "Priscilla", testament: "NT", role: "Teacher", themes: ["teaching", "partnership", "courage"], scripture: "Acts 18; Romans 16; 1 Corinthians 16" },
            { name: "Phoebe", testament: "NT", role: "Deacon", themes: ["service", "leadership", "trust"], scripture: "Romans 16" },
            { name: "Lois & Eunice", testament: "NT", role: "Faithful Mothers", themes: ["faith", "legacy", "teaching"], scripture: "2 Timothy 1" }
        ];

        // EMOTIONAL PATHWAYS
        const EMOTIONAL_PATHWAYS = [
            { 
                label: "I feel overlooked and forgotten", 
                matches: ["Hagar", "Leah", "Woman with Issue of Blood", "Rizpah", "Tamar (2 Samuel)"] 
            },
            { 
                label: "I've made mistakes I can't outgrow", 
                matches: ["Rahab", "Mary Magdalene", "Bathsheba", "Woman Caught in Adultery", "Gomer"] 
            },
            { 
                label: "I'm standing by someone else's pain", 
                matches: ["Naomi", "Widow of Zarephath", "Martha", "Mary (Mother of Jesus)", "Rizpah"] 
            },
            { 
                label: "I'm being called to lead, but it's lonely", 
                matches: ["Deborah", "Esther", "Judith", "Priscilla", "Huldah"] 
            },
            { 
                label: "I'm waiting‚Äîfaithfully, painfully, uncertainly", 
                matches: ["Hannah", "Sarah", "Elizabeth", "Anna the Prophetess"] 
            },
            { 
                label: "I've experienced violation or injustice", 
                matches: ["Tamar (2 Samuel)", "Bathsheba", "Susanna", "Woman Caught in Adultery", "Dinah"] 
            },
            { 
                label: "I'm choosing to stay when leaving would be easier", 
                matches: ["Ruth", "Zipporah", "Priscilla", "Mary of Bethany"] 
            },
            { 
                label: "I'm grieving a deep loss", 
                matches: ["Naomi", "Rizpah", "Job's Wife", "Mary (Mother of Jesus)", "Jephthah's Daughter"] 
            }
        ];

        // CLIENT-SIDE INTERPRETATION GENERATOR
        // This generates the four lenses right in the browser - no API needed!
        class InterpretationGenerator {
            constructor(woman) {
                this.woman = woman;
            }

            generate() {
                return `She Speaks: The Many Faces of ${this.woman.name}

${this.generateAbide365()}

${this.generateFractaSelf()}

${this.generateTheArc()}

${this.generateSatiricalQuill()}`;
            }

            generateAbide365() {
                const themeTexts = {
                    visibility: "In moments of invisibility, we discover that being unseen by the world does not mean being unseen by God.",
                    exile: "Sometimes exile is not punishment but preparation‚Äîa wilderness where God meets us in our isolation.",
                    survival: "Survival is sacred work. Every breath in the wilderness is an act of defiance against despair.",
                    waiting: "Waiting is not passive. It is the active choice to trust when the future is uncertain.",
                    promise: "Promises delayed are not promises denied. God's timing often differs from our urgency.",
                    choice: "Every choice shapes us. Some choices we make freely; others are made for us. Both matter.",
                    consequence: "Consequences teach us what rules cannot. They are the echoes of our choices.",
                    redemption: "Redemption is not about erasing the past but transforming it into testimony.",
                    faith: "Faith is not the absence of doubt but the decision to move forward despite it.",
                    protection: "Protection sometimes means hiding what is precious until it is safe to reveal.",
                    leadership: "Leadership is lonely. It requires standing when others sit, speaking when others are silent.",
                    courage: "Courage is not fearlessness. It is fear acknowledged and transcended.",
                    justice: "Justice delayed is not always justice denied. Sometimes it is justice refined.",
                    grief: "Grief is not weakness. It is love with nowhere to go.",
                    motherhood: "Motherhood is sacrifice embodied‚Äîa constant release of what we hold most dear.",
                    worship: "True worship costs us something. It is not convenient; it is costly.",
                    witness: "To witness is to see and to speak. Both require courage.",
                    service: "Service is not servitude. It is strength offered freely.",
                    teaching: "Teaching is not just passing knowledge; it is shaping hearts and minds for the future."
                };

                const theme = this.woman.themes[0];
                const reflection = themeTexts[theme] || "Her story invites us to see our own struggles reflected in ancient wisdom.";

                return `üïä Abide 365

${this.woman.name} teaches us about ${theme}. ${reflection} Her journey, recorded in ${this.woman.scripture}, shows us that our struggles are not new‚Äîthey are ancient, shared, and ultimately transformative.

In her story, we see trials met with faith, moments of silence that speak volumes, and choices that echo through generations. Whether her path led to triumph or tragedy, ${this.woman.name} reminds us that we are seen, known, and part of a larger story.

Reflect: How does ${this.woman.name}'s journey intersect with yours today? Where do you see her courage, her pain, or her faith mirrored in your own life?

If you feel led to give, consider supporting organizations that serve women in similar circumstances.`;
            }

            generateFractaSelf() {
                const fractaTypes = {
                    visibility: "The Seen Wanderer",
                    exile: "The Wilderness Pioneer",
                    survival: "The Resilient One",
                    waiting: "The Patient Believer",
                    promise: "The Promise Keeper",
                    choice: "The Decision Maker",
                    consequence: "The Truth Bearer",
                    redemption: "The Redeemed Witness",
                    faith: "The Leap Taker",
                    protection: "The Shield",
                    leadership: "The Reluctant Commander",
                    courage: "The Brave Heart",
                    justice: "The Justice Seeker",
                    grief: "The Mourner",
                    motherhood: "The Life Giver",
                    worship: "The Devoted One",
                    witness: "The Truth Teller",
                    service: "The Servant Leader",
                    teaching: "The Wisdom Keeper"
                };

                const theme = this.woman.themes[0];
                const fractaType = fractaTypes[theme] || "The Faithful One";

                return `üß© FractaSelf

‚Ä¢ FractaType: ${fractaType}

‚Ä¢ Identity Reflection: ${this.woman.name} embodies the tension between ${this.woman.themes[0]} and ${this.woman.themes[1] || 'transformation'}. She carries both the weight of her circumstances and the power of her choices.

‚Ä¢ Starter Pack:
  - A worn scroll (wisdom from scripture)
  - A lamp in darkness (guidance through uncertainty)
  - A cloak of dignity (honor despite circumstances)
  - Seeds of hope (future despite present pain)
  - A voice that speaks truth

‚Ä¢ Toy-box Image Prompt: Create a clean, single-image action-figure packaging illustration of '${fractaType}'. Include symbolic accessories: ancient scroll, oil lamp, weathered cloak, small pouch of seeds, speaking trumpet. One figure only, inside a clear plastic toy box. Minimalist packaging, earthy biblical tones.

‚Ä¢ Caption: For every woman who has walked through ${this.woman.themes[0]} and emerged transformed. ${this.woman.name} shows us that our stories matter, our voices count, and our journeys shape the future.`;
            }

            generateTheArc() {
                return `üåà The Arc

There was a woman whose story was written in the margins of history. She lived in a time when women's voices were rarely recorded, yet her choices echoed through generations.

She faced a crossroads: ${this.woman.themes[0]} on one side, transformation on the other. The easy path was clear‚Äîdo what was expected, stay silent, blend in. But something in her resisted.

Whether through courage or desperation, wisdom or circumstance, she stepped forward. Her choice was not perfect. Her path was not straight. But she moved.

And in that movement, something shifted. A story was written. A life was changed. A future was altered.

Her name was ${this.woman.name}, but her essence is timeless. She is every woman who has stood at the edge of the expected and chosen to leap anyway.

The moral: Our choices, however small or flawed, write the stories that others will one day need to hear.`;
            }

            generateSatiricalQuill() {
                return `ü™û Satirical Quill‚Ñ¢

Let's talk about ${this.woman.name}. The biblical writers gave her ${this.woman.role.toLowerCase()} status, which in ancient terms means she got maybe three verses while the men got entire chapters. Classic.

Her story involves ${this.woman.themes[0]}, and naturally, the interpretations over the centuries have been... interesting. She's been turned into a moral lesson, a cautionary tale, a footnote in someone else's heroic journey. Because apparently, women can't just be complex humans with their own narratives.

But here's the thing: ${this.woman.name} didn't ask for her story to be sanitized, theologized, or weaponized. She lived it. And if we actually pay attention instead of skipping to the "lesson," we might see a real person making real choices in impossible circumstances.

So the next time someone tries to reduce ${this.woman.name} to a one-dimensional moral, remember: she was a whole person with agency, complexity, and a story that deserves better than our oversimplified takes.

In jest, truth; in truth, jest. ‚Äî The Quill`;
            }

            getShareQuote() {
                const quotes = {
                    visibility: "Being unseen by the world does not make you invisible to the Divine.",
                    waiting: "Waiting is not passive. It is the active choice to trust when the future is uncertain.",
                    redemption: "Redemption is not about erasing the past but transforming it into testimony.",
                    courage: "Courage is not fearlessness. It is fear acknowledged and transcended.",
                    justice: "Justice delayed is not always justice denied. Sometimes it is justice refined.",
                    faith: "Faith is not the absence of doubt but the decision to move forward despite it."
                };
                return quotes[this.woman.themes[0]] || `${this.woman.name} shows us that our stories matter.`;
            }
        }

        // STORAGE & EXPORT HELPERS
        const JournalStorage = {
            save: (womanName, journalText) => {
                const journals = JSON.parse(localStorage.getItem('sheSpeaksJournals') || '{}');
                if (!journals[womanName]) journals[womanName] = [];
                journals[womanName].push({
                    id: Date.now(),
                    text: journalText,
                    date: new Date().toISOString()
                });
                localStorage.setItem('sheSpeaksJournals', JSON.stringify(journals));
            },
            getAll: () => JSON.parse(localStorage.getItem('sheSpeaksJournals') || '{}')
        };

        const ExportHelper = {
            downloadPDF: (womanName, content, journalEntries) => {
                const { jsPDF } = window.jspdf;
                const doc = new jsPDF();
                let y = 20;
                
                doc.setFontSize(18);
                doc.setTextColor(139, 69, 19);
                doc.text(`She Speaks: ${womanName}`, 20, y);
                y += 15;
                
                doc.setFontSize(11);
                doc.setTextColor(60, 40, 23);
                const lines = doc.splitTextToSize(content, 170);
                doc.text(lines, 20, y);
                y += lines.length * 5 + 20;
                
                if (journalEntries?.length) {
                    if (y > 250) { doc.addPage(); y = 20; }
                    doc.setFontSize(14);
                    doc.setTextColor(139, 69, 19);
                    doc.text("My Reflections", 20, y);
                    y += 10;
                    
                    journalEntries.forEach(entry => {
                        if (y > 250) { doc.addPage(); y = 20; }
                        doc.setFontSize(9);
                        doc.setTextColor(92, 64, 51);
                        doc.text(new Date(entry.date).toLocaleDateString(), 20, y);
                        y += 7;
                        doc.setFontSize(11);
                        doc.setTextColor(60, 40, 23);
                        const entryLines = doc.splitTextToSize(entry.text, 170);
                        doc.text(entryLines, 20, y);
                        y += entryLines.length * 5 + 10;
                    });
                }
                
                doc.setFontSize(9);
                doc.setTextColor(92, 64, 51);
                doc.text('¬© Adenike Omoregbee. All rights reserved.', 20, 285);
                doc.save(`she-speaks-${womanName.toLowerCase().replace(/\s/g, '-')}.pdf`);
            },
            
            share: (womanName, quote, platform) => {
                const text = `${quote}\n\nShe Speaks: The Many Faces of Her‚Ñ¢\n#SheSpeaks #BiblicalWomen #${womanName.replace(/\s/g, '')}`;
                const url = window.location.href;
                const urls = {
                    twitter: `https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(url)}`,
                    facebook: `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(url)}&quote=${encodeURIComponent(text)}`,
                    linkedin: `https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(url)}`,
                    whatsapp: `https://wa.me/?text=${encodeURIComponent(text + ' ' + url)}`
                };
                if (urls[platform]) window.open(urls[platform], '_blank', 'width=600,height=400');
            }
        };

        // MAIN APP COMPONENT
        function App() {
            const [view, setView] = useState('home');
            const [searchTerm, setSearchTerm] = useState('');
            const [selectedWoman, setSelectedWoman] = useState(null);
            const [interpretation, setInterpretation] = useState('');
            const [journalText, setJournalText] = useState('');
            const [journals, setJournals] = useState({});
            const [isGenerating, setIsGenerating] = useState(false);

            useEffect(() => {
                setJournals(JournalStorage.getAll());
            }, []);

            const filteredWomen = BIBLICAL_WOMEN.filter(w => 
                w.name.toLowerCase().includes(searchTerm.toLowerCase()) ||
                w.role.toLowerCase().includes(searchTerm.toLowerCase()) ||
                w.themes.some(t => t.toLowerCase().includes(searchTerm.toLowerCase()))
            );

            const handleSelectWoman = (woman) => {
                setSelectedWoman(woman);
                setIsGenerating(true);
                setView('woman');
                setJournalText('');
                
                // Generate interpretation (happens instantly in browser!)
                setTimeout(() => {
                    const generator = new InterpretationGenerator(woman);
                    setInterpretation(generator.generate());
                    setIsGenerating(false);
                }, 100); // Tiny delay for UX
            };

            const handlePathwayClick = (pathway) => {
                const matchedName = pathway.matches[0];
                const woman = BIBLICAL_WOMEN.find(w => w.name === matchedName);
                if (woman) handleSelectWoman(woman);
            };

            const handleSaveJournal = () => {
                if (journalText.trim() && selectedWoman) {
                    JournalStorage.save(selectedWoman.name, journalText.trim());
                    setJournals(JournalStorage.getAll());
                    alert('Journal entry saved!');
                    setJournalText('');
                }
            };

            const renderHome = () => (
                <>
                    <div className="header">
                        <h1>She Speaks: The Many Faces of Her‚Ñ¢</h1>
                        <p>Four lenses. One voice. Her story reimagined.</p>
                        <div className="badge">Complete Edition - All {BIBLICAL_WOMEN.length} Biblical Women</div>
                    </div>

                    <div className="emotional-pathways">
                        <h3>üåø What are you walking through right now?</h3>
                        {EMOTIONAL_PATHWAYS.map((pathway, idx) => (
                            <button 
                                key={idx}
                                className="pathway-btn"
                                onClick={() => handlePathwayClick(pathway)}
                            >
                                ‚Ä¢ {pathway.label}
                            </button>
                        ))}
                    </div>

                    <div className="search-bar">
                        <input
                            type="text"
                            className="search-input"
                            placeholder="Search by name, role, or theme..."
                            value={searchTerm}
                            onChange={(e) => setSearchTerm(e.target.value)}
                        />
                    </div>

                    <div className="women-grid">
                        {filteredWomen.map((woman, idx) => (
                            <div 
                                key={idx}
                                className="woman-card"
                                onClick={() => handleSelectWoman(woman)}
                            >
                                <div className="testament">{woman.testament}</div>
                                <h3>{woman.name}</h3>
                                <p>{woman.role}</p>
                                {journals[woman.name] && (
                                    <p style={{marginTop: '0.5rem', fontSize: '0.85rem', color: '#8b4513'}}>
                                        üìù {journals[woman.name].length} journal {journals[woman.name].length === 1 ? 'entry' : 'entries'}
                                    </p>
                                )}
                            </div>
                        ))}
                    </div>
                </>
            );

            const renderWoman = () => {
                const generator = new InterpretationGenerator(selectedWoman);
                const shareQuote = generator.getShareQuote();

                return (
                    <>
                        <button className="back-btn" onClick={() => setView('home')}>
                            ‚Üê Back to All Women
                        </button>

                        <div className="interpretation-view">
                            <div className="interpretation-header">
                                <h2>She Speaks: The Many Faces of {selectedWoman.name}</h2>
                                <div style={{fontSize: '0.9rem', color: '#5c4033', marginTop: '0.5rem'}}>
                                    {selectedWoman.testament} ‚Ä¢ {selectedWoman.role}
                                </div>
                            </div>

                            {isGenerating ? (
                                <div className="loading">Generating four-lens interpretation...</div>
                            ) : (
                                <>
                                    <div className="interpretation-content">{interpretation}</div>

                                    <div className="journal-section">
                                        <h3>‚úçÔ∏è Your Personal Reflection</h3>
                                        <textarea
                                            className="journal-textarea"
                                            placeholder="Write your reflection here..."
                                            value={journalText}
                                            onChange={(e) => setJournalText(e.target.value)}
                                        />
                                        <div className="action-buttons">
                                            <button className="btn" onClick={handleSaveJournal}>
                                                üíæ Save Journal Entry
                                            </button>
                                            <button 
                                                className="btn btn-secondary" 
                                                onClick={() => ExportHelper.downloadPDF(
                                                    selectedWoman.name, 
                                                    interpretation, 
                                                    journals[selectedWoman.name]
                                                )}
                                            >
                                                üìÑ Export as PDF
                                            </button>
                                        </div>
                                    </div>

                                    <div style={{marginTop: '2rem', textAlign: 'center'}}>
                                        <h3 style={{color: '#8b4513', marginBottom: '1rem'}}>üì± Share on Social Media</h3>
                                        <div className="share-options">
                                            <button className="share-btn" onClick={() => ExportHelper.share(selectedWoman.name, shareQuote, 'twitter')}>üê¶ Twitter</button>
                                            <button className="share-btn" onClick={() => ExportHelper.share(selectedWoman.name, shareQuote, 'facebook')}>üìò Facebook</button>
                                            <button className="share-btn" onClick={() => ExportHelper.share(selectedWoman.name, shareQuote, 'linkedin')}>üíº LinkedIn</button>
                                            <button className="share-btn" onClick={() => ExportHelper.share(selectedWoman.name, shareQuote, 'whatsapp')}>üí¨ WhatsApp</button>
                                            <button className="share-btn" onClick={() => navigator.clipboard.writeText(shareQuote).then(() => alert('Quote copied!'))}>üìã Copy Quote</button>
                                        </div>
                                    </div>
                                </>
                            )}
                        </div>
                    </>
                );
            };

            return (
                <div className="app-container">
                    {view === 'home' && renderHome()}
                    {view === 'woman' && selectedWoman && renderWoman()}
                    
                    <div className="footer">
                        ¬© Adenike Omoregbee. All rights reserved.
                    </div>
                </div>
            );
        }

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
